const ValidationUtil = require('../utils/validation.util');

const MESSAGE = {
    errors: {
        addWater: '❌ Произошла ошибка при добавлении записи. Попробуйте еще раз.',
        getStats: '❌ Произошла ошибка при получении статистики. Попробуйте еще раз.',
        general: '❌ Произошла ошибка. Попробуйте еще раз.',
        validation: {
            amount: (min, max) => `⚠️ Количество должно быть от ${min} до ${max} литров.`,
            goal: (min, max) => `⚠️ Цель должна быть от ${min} до ${max} литров.`,
            invalidNumber: '⚠️ Укажи корректное число.',
        },
        noAccess: '⛔️ У вас нет прав для выполнения этой команды',
        userNotFound: '⚠️ Пользователь не найден. Используйте команду /start для регистрации.',
    },
    commands: {
        start: {
            welcome:
                '👋 Привет! Я помогу тебе следить за потреблением воды. 💧\n\n🎯 Давай для начала установим твою цель на день:',
            welcome_back: '👋 С возвращением! Что будем делать? 💪',
        },
        addWater: '🥤 Что ты выпил(а)?',
        stats: '📊 За какой период показать статистику?',
        settings: '⚙️ Настройки:',
        help:
            '🚰 *Помощь по использованию бота*\n\n' +
            '*Основные команды:*\n' +
            '💧 Добавить воду - записать выпитую воду\n' +
            '📊 Статистика - просмотр статистики потребления\n' +
            '⚙️ Настройки - изменение настроек\n' +
            '\n*Дополнительные команды:*\n' +
            '/start - перезапуск бота\n' +
            '/reset - сброс настроек\n' +
            '/help - показать эту справку\n' +
            '\n*Как пользоваться:*\n' +
            '1. Установите дневную цель потребления воды\n' +
            '2. Настройте время напоминаний\n' +
            '3. Каждый раз когда пьёте воду, нажимайте "💧 Добавить воду"\n' +
            '4. Следите за прогрессом в разделе "📊 Статистика"',
        debug: {
            testNotificationSent: '✅ Тестовое уведомление отправлено',
        },
    },
    success: {
        goalSet: '🎯 Цель установлена! Можешь начинать отслеживать потребление воды.',
        waterAdded: (amount, daily, goal) => {
            const total = typeof daily === 'object' ? daily.total : daily;
            const percent = ValidationUtil.formatPercentage(total, goal);
            const progressEmoji = percent >= 100 ? '🌟' : '💪';
            const progressBar = ValidationUtil.createProgressBar(total, goal);
            return `✅ Добавлено ${amount}л!\n\n💧 Всего за сегодня: ${total}л из ${goal}л\n${progressBar} ${percent}%\n\n${progressEmoji} ${percent >= 100 ? 'Дневная цель достигнута! Молодец!' : 'Продолжай в том же духе!'}`;
        },
        reset: '✅ Настройки успешно сброшены.\n\nИспользуйте команду /start для новой регистрации.',
    },
    prompts: {
        water: {
            amount: (min, max) => `💧 Сколько литров воды ты выпил(а)? (от ${min} до ${max}л):`,
            customAmount: '💧 Сколько литров воды ты выпил(а)?',
        },
        other: {
            amount: (min, max) => `🥤 Сколько литров напитка ты выпил(а)? (от ${min} до ${max}л):`,
            customAmount: '🥤 Сколько литров напитка ты выпил(а)?',
        },
        goal: {
            set: '🎯 Сколько литров воды в день ты хочешь выпивать? (например: 2.5л):',
            custom: '🎯 Сколько литров воды в день ты хочешь выпивать?',
        },
        reset: {
            confirm: '⚠️ Ты уверен(а), что хочешь сбросить все настройки?',
            cancel: '✨ Сброс настроек отменен',
            success:
                '✅ Настройки успешно сброшены.\n\nИспользуйте команду /start для новой регистрации.',
        },
        default: '🔔 Используйте кнопки меню для взаимодействия с ботом.',
    },
    stats: {
        header: '📊 Статистика потребления жидкости:\n\n',
        today: '📊 Статистика за сегодня',
        week: '📊 Статистика за неделю',
        month: '📊 Статистика за месяц',
        all: '📊 Статистика за все время',
        formatDailyProgress: (total, goal) => {
            const percent = goal ? ValidationUtil.formatPercentage(total, goal) : 0;
            const progressEmoji = percent >= 100 ? '🌟' : '💪';
            let message = `\n🎯 Дневная цель: ${goal}л\n`;

            if (percent < 100) {
                const remaining = (goal - total).toFixed(2);
                message += `\n💧 Осталось выпить: ${remaining}л\n`;
            }

            message += `\n${ValidationUtil.createProgressBar(total, goal)} ${percent}%\n`;

            message += `\n${progressEmoji} ${percent >= 100 ? 'Дневная цель достигнута! Молодец!' : 'Продолжай в том же духе!'}`;
            return message;
        },
        message: (title, stats, period, goal) => {
            if (!stats) {
                return '❌ Нет данных для отображения статистики';
            }

            const { water, other, total } = stats;
            let message = `${title}:\n\n`;
            message += `💧 Вода: ${water}л\n`;
            message += `🥤 Другие напитки: ${other}л\n`;
            message += `📈 Всего: ${total}л\n`;

            if (total > 0) {
                message += `\n${ValidationUtil.createRatioBar(water, other)}\n`;
            }

            if (period === 'today') {
                message += MESSAGE.stats.formatDailyProgress(total, goal);
            }

            return message;
        },
        errors: {
            stats: '❌ Произошла ошибка при получении статистики. Попробуйте еще раз.',
        },
    },
    notifications: {
        enabled: '🔔 Уведомления включены! 🎉 Я буду напоминать тебе о питье воды! 💧',
        disabled: '🔕 Уведомления выключены. ⚠️ Ты можешь включить их в любой момент! 🎯',
        reminder: {
            messages: [
                '💧 Время пить воду! Не забывай о своем здоровье! 🌟',
                '🌊 Эй, водохлеб! Пора сделать глоточек! 💪',
                '💦 Твое тело жаждет воды! Дай ему то, что оно хочет! 🎯',
                '💧 Знаешь ли ты? До 60% твоего тела состоит из воды! Пора пополнить запасы! 🌊',
                '🧠 Вода улучшает работу мозга! Выпей стакан для лучшей концентрации! 💪',
                '💪 Хочешь быть сильнее? Вода помогает мышцам работать эффективнее! Время пить! 🏋️‍♂️',
                '🌱 Вода помогает выводить токсины из организма! Пора очиститься! 💧',
                '💤 Чувствуешь усталость? Возможно, тебе нужно попить воды! 🌊',
                '🏃‍♂️ Занимаешься спортом? Не забудь восполнить водный баланс! 💦',
                '🌡️ Вода помогает регулировать температуру тела! Сделай глоток! 🌊',
                '💅 Хочешь красивую кожу? Вода - твой лучший друг! Время пить! ✨',
                '🧪 Вода участвует в большинстве химических процессов в организме! Поддержи его! 💧',
                '🦷 Вода помогает сохранить здоровье зубов и дёсен! Освежись! 😁',
                '💪 Суставы любят воду! Она помогает им двигаться легче! 🏃‍♀️',
                '🫁 Вода важна для здоровья лёгких! Сделай глубокий вдох и выпей воды! 💧',
                '❤️ Сердце работает лучше, когда ты пьёшь достаточно воды! Время для глотка! 💪',
                '🧘‍♀️ Медитируешь? Не забудь про воду - она помогает сохранять ясность ума! 💧',
                '📚 Вода улучшает память и способность к обучению! Учись пить регулярно! 🎓',
                '😴 Хочешь лучше спать? Правильный питьевой режим помогает! 💤',
                '🎯 Вода помогает контролировать аппетит! Выпей стакан перед едой! 🥗',
                '🌟 Каждая клетка твоего тела нуждается в воде! Не заставляй их ждать! 💧',
                '🎨 Творческий кризис? Стакан воды может помочь! Освежи мысли! 💡',
                '🌿 Вода - источник жизни! Пришло время подпитать свой организм! 💧',
                '💧 Вода помогает поддерживать здоровье волос! Выпей стакан для красивых локонов! 💇‍♀️',
                '🌸 Вода необходима для здоровья ногтей! Пейте воду для крепких ногтей! 💅',
                '🏋️‍♀️ Вода помогает уменьшить мышечные спазмы! Выпей стакан после тренировки! 🏋️‍♂️',
                '🌻 Вода улучшает цвет лица! Выпей стакан для здорового и красивого лица! 💆‍♀️',
                '🌺 Вода помогает уменьшить головные боли! Выпей стакан для облегчения! 🤕',
                '🌼 Вода необходима для здоровья глаз! Пейте воду для здорового зрения! 👓',
                '🌻 Вода помогает уменьшить стресс! Выпей стакан для расслабления! 🙏',
                '🌺 Вода улучшает настроение! Выпей стакан для хорошего настроения! 😊',
                '🌼 Вода помогает уменьшить усталость! Выпей стакан для бодрости! 💪',
                '🌻 Вода необходима для здоровья кожи! Пейте воду для здоровой и красивой кожи! 🌸',
                '🌺 Вода помогает уменьшить воспаления! Выпей стакан для облегчения! 🤕',
                '🌼 Вода улучшает иммунную систему! Выпей стакан для здоровья! 🌟',
                '🌍 Знаешь ли ты? Человек может прожить без еды около месяца, но без воды только 3-4 дня! 💧',
                '🎵 Даже твои уши любят воду - она помогает поддерживать баланс внутреннего уха! 👂',
                '👾 ERROR 404: Вода не найдена в организме. Срочно исправь баг! 🔧',
                '🎭 Твой организм: Am I a joke to you? Пей воду! 😤',
                '🦈 Акулы никогда не болеют, потому что живут в воде. Совпадение? Не думаю! 🤔',
                '🌊 Вода.exe перестала отвечать. Перезапустить систему? [Да] [Определенно да] 🖥️',
                '🎮 Press F to drink water... PRESS F! PRESS F! ⌨️',
                '🧪 Breaking News: Учёные доказали, что вода - это читкод для жизни! 📰',
                '🎵 Sweet water mine, so hydrating all the time~ 🎶',
                '🌊 Я вода, я вода, я вода... *напевает как маленький двигатель* 🚂',
                '🦸‍♂️ С великой жаждой приходит великая ответственность! 💪',
                '🎮 Achievement Unlocked: "Водный Мастер" - Разблокируй новые способности, выпив воды! 🏆',
                '🌊 Вода: *существует* Твой организм: Водически хочется! 🏠',
                '🎭 То чувство, когда ты думал, что выпил достаточно воды... Но это было не так... 🎬',
                '🌊 404 Hydration Not Found: Пожалуйста, перезагрузите организм водой 🔄',
                '🎮 Loading... Требуется обновление системы жидкости. Установить сейчас? [ДА] [ДА] 🔄',
                '🌊 POV: Ты смотришь на стакан воды и думаешь "Да, это мой чит-код для здоровья" 💪',
                '⚡️ Вода - это как прокачка для твоего персонажа в RPG. Не забудь сделать апгрейд! 🎮',
                '🌊 *Вставьте звук открывающегося сундука из Зельды* Ты нашел легендарный стакан воды! 🏆',
                '🤔 Как говорил Гендальф: "Ты не пройдешь!"... мимо стакана воды! 🧙‍♂️',
                '🎭 Твой организм: Am I a joke to you? Пей воду! 😤',
                '🦈 Акулы никогда не болеют, потому что живут в воде. Совпадение? Не думаю! 🤔',
                '🌊 Вода.exe перестала отвечать. Перезапустить систему? [Да] [Определенно да] 🖥️',
                '🎮 Press F to drink water... PRESS F! PRESS F! ⌨️',
                '🦸‍♂️ С великой жаждой приходит великая ответственность! 💪',
                '🦴 Кости на 31% состоят из воды! Поддержи свой скелет! 💪',
                '🧪 В среднем человеку нужно 8-10 стаканов воды в день! Как твои успехи? 📊',
                '🌡️ Вода помогает бороться с простудой и гриппом! Укрепи иммунитет! 🏥',
                '⚡️ Вода помогает проводить электрические импульсы в теле! Зарядись энергией! ⚡️',
                '🎨 Художники пьют воду для вдохновения! Время творить! 🎭',
                '🎭 Вода - лучший косметолог! Время для природной красоты! 💆‍♀️',
                '🎪 Даже клоуны в цирке пьют воду! Не отставай! 🤹‍♂️',
                '🎭 Театр начинается с вешалки, а здоровье - со стакана воды! 🎬',
                '🌊 Морская вода солёная, а ты пей пресную! 🏊‍♂️',
                '🎭 Играешь главную роль в своей жизни? Не забудь про воду! 🎬',
                '🎪 Фокус-покус! Вода превращается... в здоровье! ✨',
                '🎭 Твой организм аплодирует каждому глотку воды! 👏',
                '🎪 Главное представление дня - это забота о себе! Выпей воды! 🎭',
                '⚡️ Твой организм прямо сейчас: "Загрузка жидкости... Требуется вода для продолжения" 🔄',
                '🌊 Ошибка 404: Вода в организме не обнаружена. Срочно нужен рестарт! 🔧',
                '🎭 Твои почки смотрят на тебя как на мем "Ну давай, расскажи мне, как ты забыл попить воды" 😤',
                '🦈 Ты знал, что дельфины пьют воду каждый день? А ты чем хуже? 🐬',
                '🌊 Вода.exe остановлена. Нажми "Выпить" чтобы перезапустить [ВЫПИТЬ] [ВЫПИТЬ СЕЙЧАС] 🖥️',
                '🧪 Срочные новости: Учёные доказали, что вода - это секретный код для прокачки тела! 📰',
                '🎵 Гидратация на стиле, все вокруг в восторге! 🎶',
                '🌊 *Внутренний голос*: Пей воду, пей воду, пей воду... 💭',
                '🦸‍♂️ С большой жаждой приходит большая ответственность! Время для воды! 💪',
                '🌊 Вода такая: "Ну че, как там с моим употреблением?" 🤔',
                '🎭 Спойлер: В конце дня побеждает тот, кто пил воду! 🎬',
            ],
            format: (currentIntake, goal) => {
                const randomMessage =
                    MESSAGE.notifications.reminder.messages[
                        Math.floor(Math.random() * MESSAGE.notifications.reminder.messages.length)
                    ];
                return `${randomMessage}\n${MESSAGE.stats.formatDailyProgress(currentIntake, goal)}`;
            },
        },
    },
};

module.exports = MESSAGE;
