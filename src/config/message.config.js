const ValidationUtil = require('../utils/validation.util');

const MESSAGE = {
    errors: {
        addWater: 'âŒ ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð·Ð°Ð¿Ð¸ÑÐ¸. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·.',
        getStats: 'âŒ ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ð¸ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·.',
        general: 'âŒ ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·.',
        validation: {
            amount: (min, max) => `âš ï¸ ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¾Ñ‚ ${min} Ð´Ð¾ ${max} Ð»Ð¸Ñ‚Ñ€Ð¾Ð².`,
        },
    },
    prompts: {
        water: {
            amount: (min, max) => `ðŸ’§ Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ Ð»Ð¸Ñ‚Ñ€Ð¾Ð² Ð²Ð¾Ð´Ñ‹ Ñ‚Ñ‹ Ð²Ñ‹Ð¿Ð¸Ð»(Ð°)? (Ð¾Ñ‚ ${min} Ð´Ð¾ ${max}Ð»):`,
            customAmount: 'ðŸ’§ Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ Ð»Ð¸Ñ‚Ñ€Ð¾Ð² Ð²Ð¾Ð´Ñ‹ Ñ‚Ñ‹ Ð²Ñ‹Ð¿Ð¸Ð»(Ð°)?',
        },
        other: {
            amount: (min, max) => `ðŸ¥¤ Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ Ð»Ð¸Ñ‚Ñ€Ð¾Ð² Ð½Ð°Ð¿Ð¸Ñ‚ÐºÐ° Ñ‚Ñ‹ Ð²Ñ‹Ð¿Ð¸Ð»(Ð°)? (Ð¾Ñ‚ ${min} Ð´Ð¾ ${max}Ð»):`,
            customAmount: 'ðŸ¥¤ Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ Ð»Ð¸Ñ‚Ñ€Ð¾Ð² Ð½Ð°Ð¿Ð¸Ñ‚ÐºÐ° Ñ‚Ñ‹ Ð²Ñ‹Ð¿Ð¸Ð»(Ð°)?',
        },
        goal: {
            set: 'ðŸŽ¯ Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ Ð»Ð¸Ñ‚Ñ€Ð¾Ð² Ð²Ð¾Ð´Ñ‹ Ð² Ð´ÐµÐ½ÑŒ Ñ‚Ñ‹ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ Ð²Ñ‹Ð¿Ð¸Ð²Ð°Ñ‚ÑŒ? (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: 2.5Ð»):',
            custom: 'ðŸŽ¯ Ð¡ÐºÐ¾Ð»ÑŒÐºÐ¾ Ð»Ð¸Ñ‚Ñ€Ð¾Ð² Ð²Ð¾Ð´Ñ‹ Ð² Ð´ÐµÐ½ÑŒ Ñ‚Ñ‹ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ Ð²Ñ‹Ð¿Ð¸Ð²Ð°Ñ‚ÑŒ?',
        },
        reset: {
            confirm: 'âš ï¸ Ð¢Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½(Ð°), Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‡ÐµÑˆÑŒ ÑÐ±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð²ÑÐµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸?',
            cancel: 'âœ¨ Ð¡Ð±Ñ€Ð¾Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº Ð¾Ñ‚Ð¼ÐµÐ½ÐµÐ½',
        },
        default: 'ðŸ”” Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð¼ÐµÐ½ÑŽ Ð´Ð»Ñ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ Ñ Ð±Ð¾Ñ‚Ð¾Ð¼.',
    },
    success: {
        goalSet: (goal) => `ðŸŽ‰ ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾! Ð¢Ð²Ð¾Ñ Ñ†ÐµÐ»ÑŒ - ${goal}Ð» Ð²Ð¾Ð´Ñ‹ Ð² Ð´ÐµÐ½ÑŒ! ðŸŽ¯`,
        waterAdded: (amount, daily, goal) => {
            const total = typeof daily === 'object' ? daily.total : daily;
            const percent = ValidationUtil.formatPercentage(total, goal);
            const progressEmoji = percent >= 100 ? 'ðŸŒŸ' : 'ðŸ’ª';
            const progressBar = ValidationUtil.createProgressBar(total, goal);
            return `âœ… Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¾ ${amount}Ð»!\n\nðŸ’§ Ð’ÑÐµÐ³Ð¾ Ð·Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ: ${total}Ð» Ð¸Ð· ${goal}Ð»\n${progressBar} ${percent}%\n\n${progressEmoji} ${percent >= 100 ? 'Ð”Ð½ÐµÐ²Ð½Ð°Ñ Ñ†ÐµÐ»ÑŒ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð½ÑƒÑ‚Ð°! ÐœÐ¾Ð»Ð¾Ð´ÐµÑ†!' : 'ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ð¹ Ð² Ñ‚Ð¾Ð¼ Ð¶Ðµ Ð´ÑƒÑ…Ðµ!'}`;
        },
        reset: 'ðŸ”„ Ð’ÑÐµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ ÑÐ±Ñ€Ð¾ÑˆÐµÐ½Ñ‹. ÐÐ°Ð¿Ð¸ÑˆÐ¸ /start Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð·Ð°Ð½Ð¾Ð²Ð¾ âœ¨',
    },
    stats: {
        header: 'ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð»ÐµÐ½Ð¸Ñ Ð¶Ð¸Ð´ÐºÐ¾ÑÑ‚Ð¸:\n\n',
        today: 'ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð·Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ',
        week: 'ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð·Ð° Ð½ÐµÐ´ÐµÐ»ÑŽ',
        month: 'ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð·Ð° Ð¼ÐµÑÑÑ†',
        all: 'ðŸ“Š Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð·Ð° Ð²ÑÐµ Ð²Ñ€ÐµÐ¼Ñ',
        message: (title, stats, period, goal) => {
            if (!stats) {
                return 'âŒ ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸';
            }

            const { water, other, total } = stats;
            const percent = goal ? ValidationUtil.formatPercentage(total, goal) : 0;
            const progressEmoji = percent >= 100 ? 'ðŸŒŸ' : 'ðŸ’ª';

            let message = `${title}:\n\n`;
            message += `ðŸ’§ Ð’Ð¾Ð´Ð°: ${water}Ð»\n`;
            message += `ðŸ¥¤ Ð”Ñ€ÑƒÐ³Ð¸Ðµ Ð½Ð°Ð¿Ð¸Ñ‚ÐºÐ¸: ${other}Ð»\n`;
            message += `ðŸ“ˆ Ð’ÑÐµÐ³Ð¾: ${total}Ð»\n`;

            if (period === 'today') {
                message += `\nðŸŽ¯ Ð”Ð½ÐµÐ²Ð½Ð°Ñ Ñ†ÐµÐ»ÑŒ: ${goal}Ð»\n`;
                message += `${ValidationUtil.createProgressBar(total, goal)} ${percent}%\n`;
                message += `\n${progressEmoji} ${percent >= 100 ? 'Ð”Ð½ÐµÐ²Ð½Ð°Ñ Ñ†ÐµÐ»ÑŒ Ð´Ð¾ÑÑ‚Ð¸Ð³Ð½ÑƒÑ‚Ð°! ÐœÐ¾Ð»Ð¾Ð´ÐµÑ†!' : 'ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ð¹ Ð² Ñ‚Ð¾Ð¼ Ð¶Ðµ Ð´ÑƒÑ…Ðµ!'}`;
            }

            return message;
        },
        errors: {
            stats: 'âŒ ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ð¸ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ ÐµÑ‰Ðµ Ñ€Ð°Ð·.',
        },
    },
    notifications: {
        enabled: 'ðŸ”” Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð²ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹! ðŸŽ‰ Ð¯ Ð±ÑƒÐ´Ñƒ Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°Ñ‚ÑŒ Ñ‚ÐµÐ±Ðµ Ð¾ Ð¿Ð¸Ñ‚ÑŒÐµ Ð²Ð¾Ð´Ñ‹! ðŸ’§',
        disabled: 'ðŸ”• Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð²Ñ‹ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹. âš ï¸ Ð¢Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð²ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¸Ñ… Ð² Ð»ÑŽÐ±Ð¾Ð¹ Ð¼Ð¾Ð¼ÐµÐ½Ñ‚! ðŸŽ¯',
        reminder: {
            messages: [
                'ðŸ’§ Ð’Ñ€ÐµÐ¼Ñ Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ñƒ! ÐÐµ Ð·Ð°Ð±Ñ‹Ð²Ð°Ð¹ Ð¾ ÑÐ²Ð¾ÐµÐ¼ Ð·Ð´Ð¾Ñ€Ð¾Ð²ÑŒÐµ! ðŸŒŸ',
                'ðŸŒŠ Ð­Ð¹, Ð²Ð¾Ð´Ð¾Ñ…Ð»ÐµÐ±! ÐŸÐ¾Ñ€Ð° ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ Ð³Ð»Ð¾Ñ‚Ð¾Ñ‡ÐµÐº! ðŸ’ª',
                'ðŸ’¦ Ð¢Ð²Ð¾Ðµ Ñ‚ÐµÐ»Ð¾ Ð¶Ð°Ð¶Ð´ÐµÑ‚ Ð²Ð¾Ð´Ñ‹! Ð”Ð°Ð¹ ÐµÐ¼Ñƒ Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ð¾Ð½Ð¾ Ñ…Ð¾Ñ‡ÐµÑ‚! ðŸŽ¯',
                'ðŸš° ÐÐµ Ð·Ð°Ð±ÑƒÐ´ÑŒ Ð¿Ñ€Ð¾ Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ! Ð¢Ð²Ð¾Ð¹ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¼ ÑÐºÐ°Ð¶ÐµÑ‚ ÑÐ¿Ð°ÑÐ¸Ð±Ð¾! ðŸ™',
                'ðŸŒ¿ Ð’Ð¾Ð´Ð° - Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ð¶Ð¸Ð·Ð½Ð¸! Ð’Ñ€ÐµÐ¼Ñ Ð¿Ð¾Ð´Ð·Ð°Ñ€ÑÐ´Ð¸Ñ‚ÑŒÑÑ! âš¡ï¸',
                'ðŸŽ­ ÐŸÑ€ÐµÐ´ÑÑ‚Ð°Ð²ÑŒ, Ñ‡Ñ‚Ð¾ Ñ‚Ñ‹ Ñ€Ð°ÑÑ‚ÐµÐ½Ð¸Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼Ñƒ Ð½ÑƒÐ¶ÐµÐ½ Ð¿Ð¾Ð»Ð¸Ð²! ðŸŒ±',
                'ðŸŒº ÐžÑÐ²ÐµÐ¶Ð¸ÑÑŒ! Ð¡Ð´ÐµÐ»Ð°Ð¹ Ð¿ÐµÑ€ÐµÑ€Ñ‹Ð² Ð½Ð° Ð²Ð¾Ð´Ð¸Ñ‡ÐºÑƒ! ðŸŒˆ',
                'ðŸŽª Ð¦Ð¸Ñ€Ðº, Ñ†Ð¸Ñ€Ðº, Ñ†Ð¸Ñ€Ðº! Ð Ñ‚Ñ‹ Ð²Ð¾Ð´Ñƒ Ð¿Ð¸Ð»(Ð°)? ðŸŽ­',
                'ðŸŒŠ Ð’Ð¸ÐºÐ° ÑÐºÐ°Ð·Ð°Ð»Ð°, Ñ‡Ñ‚Ð¾ Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ñƒ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾! ðŸ‘©â€âš•ï¸ Ð Ð’Ð¸ÐºÐ° Ð¿Ð»Ð¾Ñ…Ð¾Ð³Ð¾ Ð½Ðµ Ð¿Ð¾ÑÐ¾Ð²ÐµÑ‚ÑƒÐµÑ‚! ðŸ’¦',
                'ðŸŽ¯ ÐŸÐ¾Ð¿Ð°Ð´Ð¸ Ð² Ñ†ÐµÐ»ÑŒ - Ð²Ñ‹Ð¿ÐµÐ¹ ÑÑ‚Ð°ÐºÐ°Ð½Ñ‡Ð¸Ðº Ð²Ð¾Ð´Ñ‹! ðŸŽª',
                'ðŸŒŸ Ð—Ð²ÐµÐ·Ð´Ñ‹ Ð³Ð¾Ð²Ð¾Ñ€ÑÑ‚, Ñ‡Ñ‚Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ Ð¸Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð´Ð»Ñ Ð²Ð¾Ð´Ñ‹! â­ï¸',
                'ðŸŽ¨ Ð Ð°ÑÐºÑ€Ð°ÑÑŒ ÑÐ²Ð¾Ð¹ Ð´ÐµÐ½ÑŒ Ð³Ð»Ð¾Ñ‚ÐºÐ¾Ð¼ ÑÐ²ÐµÐ¶ÐµÐ¹ Ð²Ð¾Ð´Ñ‹! ðŸ–Œï¸',
                'ðŸŽ­ ÐŸÐ¾Ñ€Ð° Ð½Ð° Ð²Ð¾Ð´Ð½Ð¾Ðµ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ! Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ð°ÐºÑ‚ÐµÑ€ - Ñ‚Ñ‹! ðŸŽª',
                'ðŸŒˆ Ð Ð°Ð´ÑƒÐ³Ð° Ð½Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑ‚: Ð¿Ð¾Ñ€Ð° Ð¿Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´Ñƒ! ðŸŒ¦ï¸',
                'ðŸŽª Ð£ÑÑ‚Ñ€Ð¾Ð¹ Ð²Ð¾Ð´Ð½Ñ‹Ð¹ ÐºÐ°Ñ€Ð½Ð°Ð²Ð°Ð» ÑÐ²Ð¾ÐµÐ¼Ñƒ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð¼Ñƒ! ðŸŽ­',
                'ðŸŒº Ð¦Ð²ÐµÑ‚Ñ‹ Ð¿Ð¾Ð»Ð¸Ð²Ð°ÑŽÑ‚, Ð° Ñ‚Ñ‹ Ð²Ð¾Ð´Ñƒ Ð¿ÑŒÐµÑˆÑŒ? ðŸŒ¸',
            ],
            dailyStats: (currentAmount, goal) => {
                const remaining = goal - currentAmount;
                const progressBar = ValidationUtil.createProgressBar(currentAmount, goal);

                return (
                    'ðŸ“Š Ð¢Ð²Ð¾Ñ Ð²Ð¾Ð´Ð½Ð°Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ:\n\n' +
                    `ðŸŒŠ Ð’Ñ‹Ð¿Ð¸Ñ‚Ð¾: ${currentAmount} Ð»\n` +
                    `ðŸŽ¯ Ð¦ÐµÐ»ÑŒ: ${goal} Ð»\n` +
                    `${remaining > 0 ? `ðŸ’§ ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ: ${remaining} Ð¼Ð»\n\n` : ''}` +
                    `Ð¢Ð²Ð¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ:\n${progressBar}`
                );
            },
            format: (currentIntake, goal) => {
                const randomMessage =
                    MESSAGE.notifications.reminder.messages[
                        Math.floor(Math.random() * MESSAGE.notifications.reminder.messages.length)
                    ];
                return `${randomMessage}\n\n${MESSAGE.notifications.reminder.dailyStats(currentIntake, goal)}`;
            },
        },
    },
};

module.exports = MESSAGE;
